<!DOCTYPE html>

<html lang="en">
<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
  <title>Raspberry Faye Demo</title>
  <script src="/js/jquery-1.9.1.js" type="text/javascript"></script>
  <link href="/css/jquery.mobile-1.3.1.min.css" rel="stylesheet" media="screen">
  <script src="/js/jquery-ui-1.10.2.min.js"></script>
  <script src="/js/jquery.mobile-1.3.1.js" type="text/javascript"></script>
  <script src="/js/jquery.ui.touch-punch.min.js" type="text/javascript"></script>
  <script src="/js/raspberry.js" type="text/javascript"></script>
  <script src="/faye/client.js" type="text/javascript"></script>
<style>
    /* Hide the delete button on touch devices */
    .touch .delete {
      display: none;
    }
    .touch .ui-link-inherit {
      padding-right: 15px !important;
    }
</style>
</head>
<body>

  <div data-role="page" id="scenarii">
    <div data-role="header">
      <h1>Rasùõëo'Mix - <small> Websocket Test</small></h1>

      <div data-role="navbar">
        <ul>
          <li><a href="#scenarii" data-icon="star" class="ui-btn-active">Sc√©narii</a></li>
          <li><a href="#settings" data-icon="gear">Param√®tres</a></li>
          <li><a href="#sensors" data-icon="alert">Capteurs</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /header -->

    <div data-role="panel" id="elementspanel" data-display="push">
      <div data-role="header">
        <h3>El√©ments</h3>
      </div>
      <ul data-role="listview" data-inset="true" data-theme="d" id="medias">
        <!--        <li data-role="list-divider" class="ui-state-disabled">Sc√©nario A</li>-->
        <li data-theme="e"><a href="#" class="mediaitem"><small>Capteur mouvement A</small></a></li>
        <li data-theme="e"><a href="#"><small>Capteur lumi√®re B</small></a></li>
        <li data-theme="e"><a href="#"><small>Capteur temp√©rature C</small></a></li>
        <li><a href="#"><small>God_save_Richard_Stallman.ogg</small></a></li>
        <li><a href="#"><small>God_save_the_Queen.mp3</small></a></li>
        <li><a href="#"><small>Marseillaise.avi</small></a></li>
        <li><a href="#"><small>La_danse_des_canards.mp4</small></a></li>
      </ul>
      <a href="#" data-role="button" data-inline="true" data-mini="true" data-icon="arrow-u">Envoyer un √©l√©ment</a>
    </div><!-- /panel -->

    <div data-role="content" data-theme="c">
      <div data-role="collapsible-set" data-theme="c" data-content-theme="d">
        <div data-role="collapsible">
          <h3>Scenario A</h3>

          <ul data-role="listview" data-inset="true" data-theme="d" id="scenario-elements" class="touch">
            <!--        <li data-role="list-divider" class="ui-state-disabled">Sc√©nario A</li>-->
            <li>Marseillaise.avi</li><a href="#" class="delete">Delete</a>
            <li data-theme="e">Capteur mouvement A</li>
            <li>God_save_the_Queen.mp3</li>
            <li>God_save_Richard_Stallman.ogg</li>
            <li>La_danse_des_canards.mp4</li>
          </ul>
          <a href="#elementspanel" data-role="button" data-inline="true" data-mini="true" data-icon="plus">Ajouter un √©l√©ment</a>
        </div>
      </div>
    </div>

    <div data-role="footer">
      <div data-role="navbar">
        <ul>
          <li><a href="#" data-icon="plus">Ajouter</a></li>
          <li><a href="#" data-icon="minus">Supprimer</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
 
  </div>
  <div data-role="page" id="settings">
    <div data-role="header">
      <h1>Raspberry ùõë<small> Websocket Test</small></h1>
      <div data-role="navbar">
        <ul>
          <li><a href="#scenarii" data-icon="star">Sc√©narii</a></li>
          <li><a href="#settings" data-icon="gear" class="ui-btn-active">Param√®tres</a></li>
          <li><a href="#sensors" data-icon="alert">Capteurs</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->

    <div data-role="content">
      <div data-role="collapsible-set" data-theme="c" data-content-theme="d">
         <div data-role="collapsible">
          <h3>Son</h3>
          <form>
            <div class="ui-grid-a">
              <div class="ui-block-a">
                <label for="volume">Volume:</label>
                <input type="range" name="volume" id="volume" min="0" max="100" value="50" data-mini="true">
              </div>
              <div class="ui-block-b">
                <label for="mute">Son:</label>
                <select name="mute" id="mute" data-role="slider" data-mini="true">
                  <option value="off">Off</option>
                  <option value="on">On</option>
                </select>
              </div>
            </div>
          </form>
        </div>
        <div data-role="collapsible">
          <h3>Langue</h3>
        </div>
        <div data-role="collapsible" data-collapsed-icon="gear">
          <h3>Pr√©f√©rences</h3>
        </div>
      </div>
    </div>
    <div data-role="footer">
    </div>
  </div>

  <div data-role="page" id="sensors">
    <div data-role="header">
      <h1>Raspberry ùõë<small> Websocket Test</small></h1>
      <div data-role="navbar">
        <ul>
          <li><a href="#scenarii" data-icon="star">Sc√©narii</a></li>
          <li><a href="#settings" data-icon="gear">Param√®tres</a></li>
          <li><a href="#sensors" data-icon="alert" class="ui-btn-active">Capteurs</a></li>
        </ul>
      </div><!-- /navbar -->
    </div>

    <div data-role="content">
      <div data-role="collapsible-set" data-theme="c" data-content-theme="d">
        <div data-role="collapsible">
          <h3>Capteur de mouvement A</h3>
          <form>
            <div class="ui-grid-a">
              <div class="ui-block-a">
                <label for="mute">Actif</label>
                <select name="active" id="mute" data-role="slider" data-mini="true">
                  <option value="low">Bas</option>
                  <option value="high">Haut</option>
                </select>
              </div>
              <div class="ui-block-b">
                Some random graph with sensor value
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div data-role="footer">
      <div data-role="navbar">
        <ul>
          <li><a href="#" data-icon="plus">Ajouter</a></li>
          <li><a href="#" data-icon="minus">Supprimer</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
  </div>

  <!-- Builder -->
  <div data-role="page" id="builder">
    <div data-role="header">
      <h1>Rasùõëo'Mix - <small> Websocket Test</small></h1>

      <div data-role="navbar">
        <ul>
          <li><a href="#scenarii" data-icon="star">Sc√©narii</a></li>
          <li><a href="#settings" data-icon="gear">Param√®tres</a></li>
          <li><a href="#sensors" data-icon="alert">Capteurs</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /header -->

    <div data-role="content" data-theme="c">
      <div data-role="collapsible-set" data-theme="c" data-content-theme="d">
        <div data-role="collapsible">
          <h3>Scenario A</h3>
          <ul data-role="listview" data-inset="true" data-theme="d" id="sortable">
            <li data-role="list-divider" class="ui-state-disabled">Sc√©nario A</li>
            <li>Marseillaise</li>
            <li data-theme="e">Capteur mouvement A</li>
            <li>God save the Queen</li>
            <li>God save Richard Stallman</li>
            <li>La danse des canards</li>
          </ul>
        </div>
      </div>
    </div>

    <div data-role="footer">
      <div data-role="navbar">
        <ul>
          <li><a href="#" data-icon="plus">Ajouter</a></li>
          <li><a href="#" data-icon="minus">Supprimer</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
  </div> <!-- /builder -->

</body>
<script type="text/javascript">
//  Faye.Logging.logLevel = 'debug';

  var scheme = window.location.protocol,
  host   = location.hostname,
  port   = 9292, // location.port,
  path   = '/faye';


$("#hostname").text(host);

Bayeux = new Faye.Client(scheme + '//' + host + (port ? ':' + port : '') + path);
Bayeux.disable('cross-origin-long-polling');
Bayeux.addExtension(Logger);

Raspberry.init(Bayeux);
Raspberry.launch();

</script>

<script src="/js/sound.js" type="text/javascript"></script>
<script src="/js/builder.js" type="text/javascript"></script>

<script type="text/javascript">
$("#soundmute").click(function() {
  console.log($(this));
//  Raspberry.sound($(this).is(':checked'), )
});
</script>

</html>
